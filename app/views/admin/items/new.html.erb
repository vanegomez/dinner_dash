<h1> Creating a New Item </h1>


<%= form_for(@item, html: {multipart: true}) do |f| %>
  <ul class="errors">
    <% f.object.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
  </ul>

  <%= f.label :title %>
  <%= f.text_field :title %><br>

  <%= f.label :description %>
  <%= f.text_area :description %><br>

  <%= f.label :price %>
  <%= f.text_field :price %><br>

  <%= f.label :image, "Attach an Image" %> <br>
  <%= f.file_field :image %> <br>

  <%= f.label "Categories" %>
  <% Category.all.each do |category| %>
    <% if @item.id %>
      <%= f.check_box(:categories, { multiple: true, checked: (category.in? @item.categories) }, category.id) %>
    <% else %>
      <%= f.check_box(:categories, { multiple: true }, category.id ) %>
    <% end %>
    <%= label_tag(:categories, category.name) %>
  <% end %>

  <%= f.submit "Create New Item" %>
<% end %>
